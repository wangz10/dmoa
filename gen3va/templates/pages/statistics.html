{% extends 'wrapper.html' %}

{% block title %}Statistics{% endblock %}

{% block body %}

    <script src='static/lib/highcharts/highcharts.js'></script>
    <script src='static/js/statistics.js'></script>
    <script>
        $(function() {
            buildStats({{ stats_json|safe }});
        });
    </script>

    <div class='page' id='statistics-page'>
        <div class='ribbon'>
            <div class='container'>
                <h1>Statistics</h1>
            </div>
        </div>
        <div class='container'>
            <div class='row'>
                <div class='col-md-6'>
                    <h4>Gene signatures by cell lines</h4>
                    <p class='instruction'>Log10 scale (1 rendered as 0.175)</p>
                    <div id='platforms-bar-chart'></div>
                </div>
                <div class='col-md-6'>
                    <h4>Counts</h4>
                    <table class='table'>
                        <tr>
                            <td>Drugs</td>
                            <td>
                                <a href='report'>{{ stats.num_reports }}</a>
                            </td>
                        </tr>
                        <tr>
                            <td>Gene signatures</td>
                            <td>{{ stats.num_gene_signatures }}</td>
                        </tr>
                        <tr>
                            <td>Dosages</td>
                            <td>{{ stats.num_doses }}</td>
                        </tr>
                        <tr>
                            <td>Time points</td>
                            <td>{{ stats.num_times }}</td>
                        </tr>
                        <tr class='last'>
                            <td>Cell lines</td>
                            <td>{{ stats.num_cells }}</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>

{% endblock %}